<html>
	<head>
		<link rel="stylesheet" type="text/css" href="https://waadalharthi.github.io/CoffeeEffect/styles.css">
    <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

	</head>
	<body onload="displayGraph()">
		<h1> Did the caffeine affect your sleep quality? </h1>
		<div width="100%">
		<form>
			
			<label> When did you drink your last coffee yesterday? </label>
			<div>
				<input type="time" value="14:00"  onmouseover="displayGraph()" onclick="displayGraph()" id="cof_time" name="cof_time">
			</div>
			<label>  With how many espresso shots?</label>
			<div>
				<input type="range" min="1" max="4" step="1" value="2" onmouseover="displayGraph()" onclick="displayGraph()" id="quantity" name="quantity">
    			</div>
			
			<label> When did you consume a medicine that contains caffeine? </label>
			<div>
				<input type="time" value="" onmouseover="displayGraph()" onclick="displayGraph()" id="med_time" name="med_time">
			</div>
			
			<label> When did you intend to sleep? </label>
			<div>
				<input type="time" value="23:00" onmouseover="displayGraph()" onclick="displayGraph()" id="bedtime" name="bedtime">
			</div>
					
			<p id="result1"> Too much caffiene may affect the quality of sleep </p>

			
  		</form>
		

    <div id="clock" position="relative" width="300"> 
   <svg width="200" height="500"><circle padding-left="auto" padding-right="auto" cx="100" cy="100" r="90" stroke="black" stroke-width="2" fill="none"></circle>
   
   <line class="hour12" fill="none" stroke="black" stroke-width="3" x1="100" y1="30" x2="100" y2="10"></line>
   <line class="hour3" fill="none" stroke="black" stroke-width="3" x1="170" y1="100" x2="190" y2="100"></line>
   <line class="hour6" fill="none" stroke="black" stroke-width="3" x1="100" y1="170" x2="100" y2="190"></line>
   <line class="hour9" fill="none" stroke="black" stroke-width="3" x1="10" y1="100" x2="30" y2="100"></line>

   <line class="hour1" fill="none" stroke="black" stroke-width="1" x1="142" y1="35" x2="149" y2="25"></line>
   <line class="hour2" fill="none" stroke="black" stroke-width="1" x1="170" y1="65" x2="180" y2="60"></line>
   
  <line class="hour4" fill="none" stroke="black" stroke-width="1" x1="178" y1="145" x2="168" y2="138"></line>
   <line class="hour5" fill="none" stroke="black" stroke-width="1" x1="149" y1="175" x2="142" y2="165"></line>
	 <line class="hour7" fill="none" stroke="black" stroke-width="1" x1="22" y1="145" x2="32" y2="138"></line>
   <line class="hour8" fill="none" stroke="black" stroke-width="1" x1="50" y1="175" x2="57" y2="165"></line>
   
    <line class="hour11" fill="none" stroke="black" stroke-width="1" x1="57" y1="35" x2="50" y2="25"></line>
   <line class="hour10" fill="none" stroke="black" stroke-width="1" x1="30" y1="65" x2="20" y2="60"></line>
    
	    </svg>
      			
	    <img class="first" object-fit="contain" src="HD_transparent_picture.png">  
	    <img class="second" object-fit="contain" src="HD_transparent_picture.png">			     			
      <img class="third" object-fit="contain" src="HD_transparent_picture.png">
      <img class="forth" object-fit="contain" src="HD_transparent_picture.png">
      <img class="fifth" object-fit="contain" src="HD_transparent_picture.png" >
      <img class="sixth" object-fit="contain" src="HD_transparent_picture.png">  
      <img class="seventh" object-fit="contain" src="HD_transparent_picture.png">
      <img class="eighth" object-fit="contain" src="HD_transparent_picture.png">  
      <img class="ninth" object-fit="contain" src="HD_transparent_picture.png"> 
      <img class="tenth" object-fit="contain" src="HD_transparent_picture.png">  
      <img class="eleventh" object-fit="contain" src="HD_transparent_picture.png"> 
      <img class="twelfth" object-fit="contain" src="HD_transparent_picture.png">  
	
			
		</div>
		</div>

		  <div id="splineArea" style="clear:both;margin-left:auto;margin-right:auto;position:relative; top:20px; height: 300px; width: 600px;">
		</div>
		
		  <div id="funnel" style="clear:both;margin-left:auto;margin-right:auto;position:relative; top:150px; height: 500px; width: 600px;">
	      </div>
		
		<div style="margin-left:auto;margin-right:auto;position:relative; top:250px; height: 50px;">
			Caffeine measurements are estimated, each person process caffieine diffrently based on many factors such as the type of coffee beans, extraction method, a person weight, physical activities and mental state. 
		</div>
		

<script>
  
function hideClockGifs(cof, med){
  document.querySelector(".first").src = 'HD_transparent_picture.png';
  document.querySelector(".second").src = 'HD_transparent_picture.png';
  document.querySelector(".third").src = 'HD_transparent_picture.png';
  document.querySelector(".forth").src = 'HD_transparent_picture.png';
  document.querySelector(".fifth").src = 'HD_transparent_picture.png';
  document.querySelector(".sixth").src = 'HD_transparent_picture.png';
  document.querySelector(".seventh").src = 'HD_transparent_picture.png';
  document.querySelector(".eighth").src = 'HD_transparent_picture.png';
  document.querySelector(".ninth").src = 'HD_transparent_picture.png';
  document.querySelector(".tenth").src = 'HD_transparent_picture.png';
  document.querySelector(".eleventh").src = 'HD_transparent_picture.png';
  document.querySelector(".twelfth").src = 'HD_transparent_picture.png';

  
  switch(cof) {
  case 1:
  case 13:
    document.querySelector(".first").src = 'ezgifcom-gif-maker3.gif';
	  break;
  case 2:
  case 14:
   document.querySelector(".second").src = 'ezgifcom-gif-maker3.gif';
	  break;
  case 3:
  case 15:
    document.querySelector(".third").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 4:
  case 16:
    document.querySelector(".forth").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 5:
  case 17:
    document.querySelector(".fifth").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 6:
  case 18:
    document.querySelector(".sixth").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 7:
  case 19:
    document.querySelector(".seventh").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 8:
  case 20:
    document.querySelector(".eighth").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 9:
  case 21:
    document.querySelector(".ninth").src = 'ezgifcom-gif-maker3.gif';
	  break;
  case 10:
  case 22:
    document.querySelector(".tenth").src = 'ezgifcom-gif-maker3.gif';
	  break;
  case 11:
  case 23:
    document.querySelector(".eleventh").src = 'ezgifcom-gif-maker3.gif';
	  break;
  case 12:
  case 24:
    document.querySelector(".twelfth").src = 'ezgifcom-gif-maker3.gif';
	  break;
}
	
switch(med) {
  case 1:
  case 13:
    document.querySelector(".first").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 2:
  case 14:
   document.querySelector(".second").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 3:
  case 15:
    document.querySelector(".third").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 4:
  case 16:
    document.querySelector(".forth").src = 'ezgifcom-gif-maker5.gif';
	  break;
  case 5:
  case 17:
    document.querySelector(".fifth").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 6:
  case 18:
    document.querySelector(".sixth").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 7:
  case 19:
    document.querySelector(".seventh").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 8:
  case 20:
    document.querySelector(".eighth").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 9:
  case 21:
    document.querySelector(".ninth").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 10:
  case 22:
    document.querySelector(".tenth").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 11:
  case 23:
    document.querySelector(".eleventh").src = 'ezgifcom-gif-maker6.gif';
	  break;
  case 12:
  case 24:
    document.querySelector(".twelfth").src = 'ezgifcom-gif-maker6.gif';
	  break;
}

}
  
function displayGraph() {
	
  var cof_time = document.querySelector("#cof_time").value;
  var quantity = document.querySelector("#quantity").value;
	
	var med_time = document.querySelector("#med_time").value;
	var bedtime = document.querySelector("#bedtime").value;

  //[ { x: min value of cof_time or med_time , y: quantity * 200 or medication dose },
  //  { x: prev x+100, y: prev y-? },
  // continure untill bedtime
  //  { x: bedtime , y: depends?} ]
  
  var med = med_time.substring(0, 2);
	med = parseInt(med);
  
  var cof = cof_time.substring(0, 2);
	cof = parseInt(cof);
  
  var bed = bedtime.substring(0, 2);
	bed = parseInt(bed);
  
  quantity = parseInt(quantity);
	
  hideClockGifs(cof, med);

  
  var startX = cof;
  var startY = 80*quantity;
	
  //if (med < cof) {startX = med; startY = 200; } 

	var medX = startX+6;
	var medY = startY/2;
	var endX = startX+10;
	var endY = 0;
	
	var resultStr = "";

	var datapoints =  [
		{x:(startX*100), y: startY, indexLabel: "Last Coffee"},
		{x: (medX*100), y: medY, indexLabel: "Half the caffeine lasts 5 hours"},
		{x:endX, y: endY},
		{x: (bed*100), y: 0}
	];
	
	if(bed>endX)
	{
		resultStr = "This level of caffiene should not effect the quality of your sleep";
		document.querySelector("#result1").innerHTML = resultStr ;
	}
		
	
	if (bed<medX)
	{
		resultStr = "This level of caffiene may effect the quality of your sleep";
		document.querySelector("#result1").innerHTML = resultStr ;
		
		datapoints =  [
			{x:(startX*100), y: startY, indexLabel: "Last Coffee"},
			{x:(bed*100), y: (startY/(startX+bed))},
			{x: (medX*100), y: medY, indexLabel: "Half the caffeine lasts 5 hours"},
			{x:endX, y:endY}
			];
	}
	
	if (bed<endX)
	{
		resultStr = "This level of caffiene may effect the quality of your sleep";
		document.querySelector("#result1").innerHTML = resultStr ;
		
		datapoints =  [
			{x:(startX*100), y: startY, indexLabel: "Last Coffee"},
			{x: (medX*100), y: medY, indexLabel: "Half the caffeine lasts 5 hours"},
			{x:(bed*100), y: (startY/(startX+bed))},
			{x:endX, y:endY}
			];
	}
	
  
	var splineAreaChart = new CanvasJS.Chart("splineArea",
    {
        axisY:{  interval: 50,
            valueFormatString:"#"
        },
        axisX:{
           valueFormatString:"##:##"
        },
      data: [
      {        
        type: "splineArea",
	color: "rgba(215,130,55,.9)",
	fillOpacity: .8,
        xValueFormatString:" ##:##",
        yValueFormatString:"~#",
        dataPoints: datapoints
      }
      ]
    });

    splineAreaChart.render();
  
  
//med (EXCEDRIN 2 tablets) (130)
//tea (50) 70 90 120
//espresso (80 150 225) 300
	// orderd = [tea 50, soloShot 80, medicationTablet 130, doubleShot 150, tripleShot 225]
    CanvasJS.addColorSet("customColors",
                [
                "#472D30",
                "#A47762",
    			      "#5F7B62",
                "#cd9777",
    			      "#76C893"
                ]);
	var funnelChart = new CanvasJS.Chart("funnel", {
	colorSet: "customColors",
	title:{
		text: "caffeine levels "
	},
	data: [{
		type: "funnel",
		indexLabel: "{label} [~{y} mg]",
		neckHeight: 0,
		toolTipContent: "{label} - ~{y} mg",
		dataPoints: [
			{ y: 225, label: "Triple shot espresso" },
			{ y: 150, label: "Double shot espresso" },
			{ y: 130, label: "Two Medication Tablets" },
			{ y: 80, label: "Solo shot espresso" },
			{ y: 50, label: "Tea" }
		]
	}]
});
funnelChart.render();

}
    </script>
			
	
	</body>
</html>
